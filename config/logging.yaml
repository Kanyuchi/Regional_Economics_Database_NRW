# Logging Configuration
# Regional Economics Database for NRW

logging:
  version: 1
  disable_existing_loggers: false

  formatters:
    default:
      format: "[{time:YYYY-MM-DD HH:mm:ss}] {level} | {name}:{function}:{line} - {message}"

    detailed:
      format: "[{time:YYYY-MM-DD HH:mm:ss.SSS}] {level} | {name}:{function}:{line} | {extra} - {message}"

    json:
      format: "{time:YYYY-MM-DD HH:mm:ss.SSS} | {level} | {name} | {function} | {line} | {message}"

  handlers:
    console:
      level: INFO
      format: default
      colorize: true

    file:
      level: DEBUG
      format: detailed
      rotation: "100 MB"
      retention: "30 days"
      compression: "zip"
      path: "logs/app_{time:YYYY-MM-DD}.log"

    error_file:
      level: ERROR
      format: detailed
      rotation: "100 MB"
      retention: "90 days"
      compression: "zip"
      path: "logs/error_{time:YYYY-MM-DD}.log"

    extraction_file:
      level: DEBUG
      format: detailed
      rotation: "200 MB"
      retention: "60 days"
      path: "logs/extraction_{time:YYYY-MM-DD}.log"

  loggers:
    root:
      level: INFO
      handlers:
        - console
        - file
        - error_file

    src.extractors:
      level: DEBUG
      handlers:
        - extraction_file
      propagate: false

    src.loaders:
      level: DEBUG
      handlers:
        - file
      propagate: false

    sqlalchemy.engine:
      level: WARNING
      handlers:
        - file
      propagate: false

# Log file paths
log_paths:
  main: "logs/app.log"
  extraction: "logs/extraction.log"
  error: "logs/error.log"
  quality: "logs/quality_checks.log"

# Log retention (in days)
retention:
  default: 30
  extraction: 60
  error: 90
  quality: 180
